<template name="list">
  {{> filter}}
  {{> applications}}
</template>

<template name="filter">
  <div class="col-lg-12">
    <div class="btn-group">
      {{> stageFilter}}
      <button id="delete-selected" class="btn btn-default">delete selected</button>
    </div>
  </div>
  <form id="filter-form" class="col-lg-2">
    <div class="checkbox">
      <label>
        <input id="more-options" type="checkbox" name="more-options" /> more options
      </label>
    </div>

    {{> filterElement label="creation date" name="createdAt" type="date"}}

    {{> filterElement label="recruiter" name="recruiter" attrName="stages.current.recruiter" type="select" options=recruiters valueField="_id" descriptionField="username"}}

    {{> filterElement label="firstname" name="firstname"}}

    {{> filterElement label="lastname" name="lastname"}}

    {{> filterElement label="age" name="age" type="number" min=0}}

    {{> filterElement label="mobile phone" name="mobile"}}

    {{> filterElement label="outcome" name="outcome" attrName="stages.current.id" type="select" options=stages valueField="id" descriptionField="name"}}

    {{> filterElement label="region" name="region" attrName="region" type="select" options=regions valueField="id" descriptionField="name"}}
  </form>
</template>

<template name="stageFilter">
  <button class="btn btn-default" data-toggle="dropdown">
    <span data-bind="label">new</span> <span class="caret"></span>
  </button>
  <ul id="stage-filter" class="dropdown-menu">
    <li><a data-stage="0" href="#">new</a></li>
    <li><a data-stage="1" href="#">stage 1</a></li>
    <li><a data-stage="2" href="#">stage 2</a></li>
    <li><a data-stage="3" href="#">stage 3</a></li>
    <li><a data-stage="4" href="#">rejected</a></li>
    <li><a data-stage="5" href="#">approved</a></li>
    <li><a data-stage="" href="#">all</a></li>
  </ul>
</template>

<template name="applications">
  <div id="applications" class="col-lg-10">
    {{> reactiveTable settings=settings}}
  </div>
</template>
